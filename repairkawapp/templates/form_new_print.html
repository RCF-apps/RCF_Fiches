{% extends "base.html" %}

{% block content %}
<form class="row gy-3 needs-validation" novalidate  method="POST" action="/new">
  <div class="row">
    <div class="col-8">
      <div class="input-group">
        <span class="input-group-text bg-secondary">Date</span>
        <input {% if not to_print %}type="date"{% endif %} class="form-control" id="exampleFormControlInput1" name="date" value="{% if not to_print %}{{today}}{% endif %}">
      </div>
      <div class="input-group input-group-wmarg">
        <span class="input-group-text bg-secondary">Nom</span>
        <input type="name" class="form-control" id="exampleFormControlInput1" name="name" {% if not to_print %}placeholder="Nom (Prénom)"{% endif %} required>
        <div class="invalid-feedback">
          Nom obligatoire !
        </div>
      </div>
    </div>
    <div class="card col-4 update rounded age gx-0">
      <div class="card-header bg-secondary text-center card-header-wmarg">
        Tranche d'âge
      </div>
      <div class="card-body small card-body-wmarg">
        <div class="input-group input-group-sm small">
          <div class="form-check form-check-inline form-check-inline-wmarg">
            <input class="form-check-input" type="radio" name="age" value="1">
            <label class="form-check-label" for="inlineRadio1">0-20</label>
          </div>
          <div class="form-check form-check-inline form-check-inline-wmarg">
            <input class="form-check-input" type="radio" name="age" value="2">
            <label class="form-check-label" for="inlineRadio2">21-40</label>
          </div>
          <div class="form-check form-check-inline form-check-inline-wmarg">
            <input class="form-check-input" type="radio" name="age" value="3">
            <label class="form-check-label" for="inlineRadio3">41-60</label>
          </div>
          <div class="form-check form-check-inline form-check-inline-wmarg">
            <input class="form-check-input" type="radio" name="age" value="4">
            <label class="form-check-label" for="inlineRadio3">61+</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="input-group">
    <span class="input-group-text bg-secondary">Email</span>
    <input type="email" class="form-control" id="exampleFormControlInput1" name="email" {% if not to_print %}placeholder="name@example.com"{% endif %}>
    <span class="input-group-text bg-secondary">Téléphone</span>
    <input type="text" class="form-control" id="exampleFormControlInput1" name="phone" {% if not to_print %}placeholder="0612345678"{% endif %} oninput="check_phone(this)">
  </div>
  <div class="input-group">
<!--     <div class="dropdown" id="categoryDropdown">
      <button class="btnCategory btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown">
        Catégorie
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-category">
    {% for category in categories %}
        <li class="product-icon-{{category.rm_icon_id}}"><a class="dropdown-item" href="#" val={{category.id}}>{{category.name}}</a></li>
    {% endfor %}
      </ul>
    </div>
 -->
    <span class="input-group-text bg-secondary">Catégorie</span>
    <input class="form-control" id="category" name="category" required>
    <span class="input-group-text bg-secondary">Type</span>
    <input class="form-control" id="exampleFormControlInput1" name="otype" {% if not to_print %}placeholder="Type de l'objet"{% endif %} required>
    <div class="invalid-feedback">
        Type et Catégorie obligatoire !
    </div>
    <script>
      /* reloading the page remove the value */
      if ($("#category").val()) {
        $("#categoryDropdown button").text($("#categoryDropdown li a[val="+$("#category").val()+"]").text())
      }
    </script>
  </div>
  <div class="input-group">
        <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">Marque</span>
        <input style="text-transform: uppercase;" type="text" id="brand" name="brand" class="form-control" required {% if not to_print %}placeholder="LAMARQUE / INCONNU"{% endif %}>
        <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">Modèle</span>
        <input type="text" class="form-control" name="model">
  </div>
  <div class="input-group input-group-sm">
        <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">SN</span>
        <input style="text-transform: uppercase;" type="text" id="brand" name="sn" class="form-control" {% if not to_print %}placeholder="SERIAL NUMBER"{% endif %}>
        <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">Année</span>
        <input {% if not to_print %}type="number" min="1950" max="{{current_year}}" step="1"{% endif %} name="year" class="form-control col-1">
        <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">Valeur</span>
        <input {% if not to_print %}type="number" min="5"{% endif %} name="value" class="form-control col-1">
        <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">Poids</span>
        <input {% if not to_print %}type="number" min="5"{% endif %} name="weight" class="form-control col-1">
  </div>
  <!-- <div class="input-group">
    <span class="input-group-text bg-secondary" id="inputGroup-sizing-default">État Initial</span>
    <select class="form-select" name="initial_state" id="validationCustom04" required>
      <option selected disabled value="">Choisir...</option>
    {% for state in states %}
        <option value="{{state.id}}">{{state.label}}</option>
    {% endfor %}
    </select>
  </div> -->
  <div class="input-group justify-content-around repairstatus">
    <div class="card col-2 update rounded">
      <div class="card-header bg-secondary text-center">
        Etat Initial
      </div>
      <div class="card-body">
      </div>
    </div>
    <div class="card col-9 update rounded">
      <div class="card-header bg-secondary text-center">
        Problème
      </div>
      <div class="card-body card-body-textarea">
        <textarea class="form-control" name="description" required rows=5></textarea>
      </div>
    </div>
  </div>
  <div class="input-group">
      <span class="input-group-text bg-secondary">Accord Règlement Intérieur<br>Signature</span>
      <textarea class="form-control" name="description" required></textarea>
  </div>
  <div class="input-group justify-content-around repairstatus">
    <div class="card col-2 update rounded">
      <div class="card-header bg-secondary text-center">
        Réparateurs
      </div>
      <div class="card-body">
      </div>
    </div>
    <div class="card col-7 update rounded">
      <div class="card-header bg-secondary text-center">
        Réparé
      </div>
      <div class="card-body">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="repairstatus" id="repairstatus0">
          <label class="form-check-label" for="repairstatus0">
            À suivre :
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="repairstatus" id="repairstatus1">
          <label class="form-check-label" for="repairstatus1">
            Oui. Commentaire :
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="repairstatus" id="repairstatus2">
          <label class="form-check-label" for="repairstatus2">
            À moitié / Conseil...
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="repairstatus" id="repairstatus3">
          <label class="form-check-label" for="repairstatus3">
            Non. Raison :
          </label>
        </div>
      </div>
    </div>
    <div class="card col-2 update rounded">
      <div class="card-header bg-secondary text-center">
        Etat Final
      </div>
      <div class="card-body">
      </div>
    </div>
  </div>
  <div class="input-group">
      <span class="input-group-text bg-secondary">Don pour pièces détachées<br>Signature</span>
      <textarea class="form-control" name="description" required></textarea>
  </div>

  <!--
  <div class="input-group">
      <span class="input-group-text bg-secondary">Photo</span>
      <input id="Picture" class="form-control" name="files[]" type="file" accept="image/*;capture=camera" multiple capture>
  </div>

  <div class="input-group">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" name="validated" value="1" id="invalidCheck" required>
      <label class="form-check-label" for="invalidCheck">
        Accepter les conditions
      </label>
      <div class="invalid-feedback">
        Vous devez accepter avant de soumettre !
      </div>
    </div>
  </div>

  <div class="input-group">
    <button class="btn btn-success" type="submit">Envoyer</button>
  </div>-->
  <div class="container">
    <u>Notes :</u>
  </div>

</form>

{% endblock %}